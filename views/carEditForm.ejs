<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles.css" />
    <title><%= "Edit Car" %></title>
  </head>
  <body>
    <h1><%= "Edit Car" %></h1>
    
    <form action="<%= car?.[0] ? '/car/update/' + car[0].id : '#' %>" method="POST">
      <% if (car?.[0]) { %>
        <input type="hidden" name="_method" value="PUT" />
      <% } %>

      <label>Brand:</label>
      <input type="text" name="brand" value="<%= car?.[0]?.brand || '' %>" required />

      <label>Model:</label>
      <input type="text" name="model" value="<%= car?.[0]?.model || '' %>" required />

      <label>Year:</label>
      <input type="number" name="year" value="<%= car?.[0]?.year || '' %>" required />

      <label>Price ($):</label>
      <input type="number" name="price" value="<%= car?.[0]?.price || '' %>" required />

      <label>Status:</label>
      <select name="status">
        <option value="available" <%= car?.[0]?.status === "available" ? "selected" : "" %>>Available</option>
        <option value="sold" <%= car?.[0]?.status === "sold" ? "selected" : "" %>>Sold</option>
      </select>

      <label>Owner ID:</label>
      <input type="number" name="owner_id" value="<%= car?.[0]?.owner_id || '' %>" required />

      <label>Body Type:</label>
      <select name="body_type">
        <option value="Sedan" <%= car?.[0]?.body_type === "Sedan" ? "selected" : "" %>>Sedan</option>
        <option value="Coupe" <%= car?.[0]?.body_type === "Coupe" ? "selected" : "" %>>Coupe</option>
        <option value="Convertible" <%= car?.[0]?.body_type === "Convertible" ? "selected" : "" %>>Convertible</option>
        <option value="Wagon" <%= car?.[0]?.body_type === "Wagon" ? "selected" : "" %>>Wagon</option>
        <option value="Hatchback" <%= car?.[0]?.body_type === "Hatchback" ? "selected" : "" %>>Hatchback</option>
      </select>

      <label>Transmission Type:</label>
      <select name="transmission_type">
        <option value="Automatic" <%= car?.[0]?.transmission_type === "Automatic" ? "selected" : '' %>>Automatic</option>
        <option value="Manual" <%= car?.[0]?.transmission_type === "Manual" ? "selected" : '' %>>Manual</option>

      </select>

      <label>Fuel Type:</label>
      <select name="fuel_type">
        <option value="Gas" <%= car?.[0]?.fuel_type=== "Gas" ? "selected" : '' %>>Gas</option>
        <option value="Diesel" <%= car?.[0]?.fuel_type=== "Diesel" ? "selected" : '' %>>Diesel</option>
        <option value="Electric" <%= car?.[0]?.fuel_type=== "Electric" ? "selected" : '' %>>Electric</option>
      </select>

      <button type="submit"><%= "Update Car" %></button>
    </form>

    <a href="/">Back to Home</a>
  </body>
</html>
